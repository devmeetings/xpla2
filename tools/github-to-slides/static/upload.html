<div>
  <div class="row">
    <div class="col-sm-12">
      <div
        class="form-group"
        ng-class="{'has-error': $ctrl.error}"
        >
        <input
          type="text"
          class="form-control input-lg"
          ng-model="$ctrl.url"
          placeholder="Github Repository URL"
          />
          <span class="help-block" ng-show="$ctrl.error">
            {{ $ctrl.error }}
          </span>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          ng-model="$ctrl.username"
          ng-readonly="$ctrl.url"
          placeholder="or Username"
          />
      </div>
    </div>
    <div class="col-sm-6">
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          ng-model="$ctrl.repo"
          ng-readonly="$ctrl.url"
          placeholder="and Repository Name"
          />
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4">
      <h3>Generate from:</h3>
      <div class="form-group">
        <label
          class="form-check-label"
          ng-repeat="val in $ctrl.modes"
          >
          <input
            type="radio"
            class="form-check-input"
            ng-value="val.name"
            ng-model="$ctrl.mode"
            />
          {{ val.title }}
        </label>
      </div>
    </div>
    <div class="col-sm-8" ng-show="$ctrl.mode === 'simple'">
      <h3>Your slides will be generated from directories on <code>master</code> branch</h3>
      <p>Each directory will be converted to one slide.</p>
    </div>
    <div class="col-sm-8" ng-show="$ctrl.mode === 'json'">
      <h3>Your slides will be generated based on JSON file on <code>master</code> branch.</h3>
      <p>Make sure to include file with all details in <code>master</code> branch.</h3>
    </div>
    <div class="col-sm-8" ng-show="$ctrl.mode === 'manual'">
      <h3>Your slides will be generated from Git history of given branches.</h3>
      <p>Fill up workshop details (name, date and link) and provide branches to generate slides from.</p>
      <p>Those details will be saved in your browser, but you can also create a JSON file and store it in the repo.</p>
    </div>
  </div>
  <div class="row" ng-show="$ctrl.mode === 'manual'">
    <div class="col-sm-6">
      <h4>Workshop Details</h4>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          ng-model="$ctrl.workshopName"
          placeholder="Workshop Name (optional)"
          />
      </div>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          ng-model="$ctrl.workshopDate"
          placeholder="Workshop Date and Location (optional)"
          />
      </div>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          ng-model="$ctrl.workshopLink"
          placeholder="Workshop Short Link (optional)"
          />
      </div>
    </div>
    <div class="col-sm-6">
      <h4>List of branches:</h4>
      <div class="form-group">
        <textarea
          type="text"
          class="form-control"
          rows="5"
          ng-model="$ctrl.branches"
          placeholder="List of branches"
        ></textarea>
      </div>
      <p>
        <small>
          One branch per line. To add a title type:
          <code>branch=branchTitle</code>, for example:
          <code>react=Introduction to React</code>
        </small>
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-4 col-sm-offset-4">
      <div class="form-group">
        <button
          class="btn btn-primary btn-block btn-lg"
          ng-disabled="$ctrl.error || !$ctrl.username || !$ctrl.repo || $ctrl.response.isGenerating"
          ng-click="$ctrl.generateSlides()"
          >
          <span class="glyphicon glyphicon-random" ng-show="!$ctrl.response.isGenerating"></span>
          <span class="glyphicon glyphicon-refresh" ng-show="$ctrl.response.isGenerating"></span>
          &nbsp;
          <span ng-show="!$ctrl.response.isGenerating">
            Generate Slides
          </span>
          <span ng-show="$ctrl.response.isGenerating">
            Generating...
          </span>
        </button>
      </div>
    </div>
  <div class="row">
    <div class="col-xs-12">
      <div ng-show="$ctrl.response.success !== null">
        <h2
          ng-class="{'text-success': $ctrl.response.success, 'text-danger': !$ctrl.response.success}"
          >{{ $ctrl.response.msg }}</h2>
      </div>
      <pre>{{ $ctrl.response.details }}</pre>
    </div>
  </div>
</div>
