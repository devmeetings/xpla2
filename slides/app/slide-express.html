<!DOCTYPE html>
<html xp-run-server-url="<%= run_server_url %>" xp-presence-url="<%= presence_server_url %>">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Slide Express</title>
    <script src="js/slide_loader.<%= version %>.js"></script>
  </head>
  <body class="xp-slide">
    <div class="xp-column">
      <xp-editor>
        <script id="index.js" type="application/octetstream">
          // content of index.js
          const http = require('http')
          const port = process.env.port || 3000

          console.log('Starting server on port ' + port)

          const requestHandler = (request, response) => {
            console.log(request.url)
            response.end('Hello Node.js Server!')
          }

          const server = http.createServer(requestHandler)

          server.listen(port, (err) => {
            if (err) {
              return console.log('something bad happened', err)
            }

            console.log('server is listening on ' + port)
          })
        </script>
      </xp-editor>
    </div>
    <div class="xp-column">
      <xp-preview runner="express"></xp-preview>
    </div>
    <xp-annotations></xp-annotations>
  </body>
</html>
